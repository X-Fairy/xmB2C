(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods-list/goods-list"],{3885:function(t,o,e){"use strict";e.r(o);var n=e("3920"),i=e("f248");for(var s in i)"default"!==s&&function(t){e.d(o,t,(function(){return i[t]}))}(s);e("70a5");var r,a=e("f0c5"),u=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);o["default"]=u.exports},3920:function(t,o,e){"use strict";var n,i=function(){var t=this,o=t.$createElement;t._self._c},s=[];e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return s})),e.d(o,"a",(function(){return n}))},"70a5":function(t,o,e){"use strict";var n=e("8396"),i=e.n(n);i.a},"7b88":function(t,o,e){"use strict";(function(t){e("7f00");n(e("66fd"));var o=n(e("3885"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("543d")["createPage"])},8396:function(t,o,e){},ed50:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={onShareAppMessage:function(t){return{title:this.key,path:"pages/goods/goods-list/goods-list?key="+this.key,success:function(t){console.log(t)},fail:function(t){console.log(t)}}},data:function(){return{key:"",goodsList:[],loadingText:"正在加载中...",headerTop:"0px",headerPosition:"fixed",orderbyList:[{text:"销量",selected:!0,orderbyicon:!1,orderby:0},{text:"价格",selected:!1,orderbyicon:["sheng","jiang"],orderby:0},{text:"好评",selected:!1,orderbyicon:!1,orderby:0}],orderby:"sheng",pageCount:1,pageid:1}},onLoad:function(o){this.key=o.key,t.setNavigationBarTitle({title:o.key}),this.reload()},onPageScroll:function(t){t.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh:function(){var o=this;this.goodsList=[],setTimeout((function(){o.reload(),t.stopPullDownRefresh()}),1e3)},onReachBottom:function(){if(this.pageid++,this.pageid>this.pageCount)return this.loadingText="到底了",!1;this.reload(),this.loadingText="正在加载..."},methods:{reload:function(){var t=this,o={key:this.key,pageid:this.pageid};this.$xm.post("/Product/search",o,(function(o){0==o.count?t.loadingText="没有找到您要搜索的商品！":(o.prolist.map((function(t){t.pro_sn="http://img.xmvogue.com/thumb/"+t.pro_sn+".jpg?x-oss-process=style/300",t.pro_name=t.pro_name.slice(0,15)+"..."})),t.goodsList=t.goodsList.concat(o.prolist),t.pageCount=o.count,1==t.pageCount&&(t.loadingText="到底了"))}))},toSearch:function(){t.setNavigationBarTitle({title:this.key}),this.goodsList=[],this.reload()},toGoods:function(o){t.navigateTo({url:"../../goods/goods?gid="+o.id})},joinCart:function(o){var e={proid:o.id,pronum:1};this.$xm.post("/Cart/add",e,(function(o){var e=o.msg;t.showToast({title:e})}))}}};o.default=e}).call(this,e("543d")["default"])},f248:function(t,o,e){"use strict";e.r(o);var n=e("ed50"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(o,t,(function(){return n[t]}))}(s);o["default"]=i.a}},[["7b88","common/runtime","common/vendor"]]]);